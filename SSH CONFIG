#sudo apt update && sudo apt install --only-upgrade openssh-server

# Installation de l'outil
sudo apt update && sudo apt install ssh-audit -y

# Execution de l'audit sur le port 22222
ssh-audit -p 22222 localhost

Port 22222

AddressFamily inet

PubkeyAuthentication yes
PermitRootLogin no
AuthorizedKeysFile .ssh/authorized_keys
PasswordAuthentication no

MaxAuthTries 3
MaxSessions 2

TcpKeepAlive no

AllowAgentForwarding no

X11Forwarding no

Include /etc/ssh/sshd_config.d/ciphers.conf

LogLevel VERBOSE

nano /etc/ssh/sshd_config.d/ciphers.conf

#post quantum ssh configuratoin key exchange algorthims 
KexAlgorithms mlkem768x25519-sha256,sntrup761x25519-sha512,curve25519-sha256@libssh.org
Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com
MACs hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com

sudo  sshd -t   # Tester  la  configuration
sudo  systemctl  restart  ssh      #  redemarrer ssh 
ss -tulnp | grep  ssh             # vérifier le port



Fail2Ban protège SSH contre les tentatives répétées de connexion :
sudo apt update && sudo apt install fail2ban
sudo systemctl enable --now fail2ban
